function replaceAll(n,t,i){return i.replace(new RegExp(n,"g"),t)}jQuery.browser={},function(){jQuery.browser.msie=!1;jQuery.browser.version=0;navigator.userAgent.match(/MSIE ([0-9]+)\./)&&(jQuery.browser.msie=!0,jQuery.browser.version=RegExp.$1)}();var EA=window.EA||{};EA.GetCtx=function(n){var i=jQuery("#"+n+" .Row"),u,r,t;if(i.length>0){for(u=i.first().children().length,r=[],t=0;t<i.length;t++)r[t]=new Array(u);return t=0,i.each(function(){for(var n=0;n<u;n++)r[t][n]=i[t].children[n].firstChild!=null?i[t].children[n].firstChild.nodeValue:"";t=t+1}),r}return null};EA.returnImageWithRendition=function(n,t,i,r,u){if(n!=null||n!=""){var f=EA.getTagImage(n),e=r||"",o=u||"",s=f.alt,h=f.src+"?Width="+t+"&Height="+i;return"<img src='"+h+"' alt='"+s+"' title='"+o+"' class='"+e+"'>"}return""};EA.getTagImage=function(n){for(var i=n.split('" '),r=[],t=0;t<i.length;t++)i[t].indexOf("src=")>=0?r.src=i[t].substring(i[t].indexOf("src=")+5):i[t].indexOf("alt=")>=0?r.alt=i[t].substring(i[t].indexOf("alt=")+5):i[t].indexOf("class=")>=0?r["class"]=i[t].substring(i[t].indexOf("class=")+7):i[t].indexOf("title=")>=0&&(r.title=i[t].substring(i[t].indexOf("title=")+7));return r};EA.Web=window.EA.Web||{};EA.Web.gaTrackSliderVar="_s";EA.Web.defaultsInitialized=!1;EA.Web.isNull=function(n){return n==""||n==null||n==undefined};EA.Web.isNotNull=function(n){return!EA.Web.isNull(n)};EA.Web.$tab_clicked=!1;EA.Web.initialize=function(){EA.Web.initializeDefaults()};EA.Web.initializeDefaults=function(){EA.Web.defaultsInitialized||(EA.Web.defaultsInitialized=!0,EA.Web.ie7=jQuery.browser.msie&&jQuery.browser.version>=7&&jQuery.browser.version<8,EA.Web.ie8=jQuery.browser.msie&&jQuery.browser.version>=8&&jQuery.browser.version<9,EA.Web.ie9=jQuery.browser.msie&&jQuery.browser.version>=9&&jQuery.browser.version<10,jQuery(".button").hover(function(){jQuery(this).addClass("hover")},function(){jQuery(this).removeClass("hover")}))};EA.Web.getPictureMarkup=function(n,t,i,r,u,f,e){var s;if(Srch.U.n(n)||n.isEmpty)return Srch.ContentBySearch.getNoPictureMarkup(i);var h=Srch.U.getImageSourceWithRendition(n,t,i),o=String.format('onerror="this.parentNode.innerHTML=Srch.ContentBySearch.getNoPictureMarkup({0});" ',i),c=!Srch.U.n(t)&&!isNaN(t),l=!Srch.U.n(i)&&!isNaN(i),a=c&&l&&t===i;return a&&(o+=String.format('onload="Srch.ContentBySearch.resizeImageToSquareLength(this, {0});"',t)),s=Srch.U.e(e)?"":String.format('id="{0}"',SP.Utilities.HttpUtility.htmlEncode(e)),String.format('<img src="{0}" class="{1}" alt="{2}" {3} {4} width="{5}" height="{6}" />',h,SP.Utilities.HttpUtility.htmlEncode(u),e.toString(),s,o,t,i)};EA.Web.getParsedImage=function(n,t,i,r,u,f,e){var o;if(!t.isNull){o="";(typeof u!="undefined"||u!=null)&&(o=u+"picture");var h=f||"",c=e.toString()=="true"?!0:!1,s="",l=/alt="([^"]*)"/;return t.value.toLowerCase().indexOf("https")<=0&&(t.value=t.value.replace("http","https")),t.value.match(l)!=null&&(s=t.value.match(l)[1]),c?EA.Web.getPictureMarkup(t,i,r,n.CurrentItem,h,c,s,o):Srch.ContentBySearch.getPictureMarkup(t,i,r,n.CurrentItem,h,s,o)}return""};EA.Web.getSummaryLinkItems=function(n){var t={length:0},i=jQuery("<div><\/div>").html(n);return i.find('div[title="_link"]').each(function(n){var i=$(this).find('span[title="_title"]').text(),r=$(this).find('span[title="_linkurl"]').text().trim(),u=$(this).find('span[title="_description"]').text(),f=$(this).find('span[title="_openinnewwindow"]').text()=="True"?!0:!1,e=$(this).find('span[title="_order"]').text();t[n]={title:i,url:r,description:u,newwindow:f};t.length++}),$(t)};EA.Web.tabberDefaults={activeClass:"active",beforeChange:null,afterChange:null,interval:0,paused:!0};EA.Web.Tabbers=[];EA.Web.Tabber=function(n,t,i){var r,u,e,f;if(EA.Web.Tabbers.push(this),this.id=EA.Web.Tabbers.length-1,this.options={},jQuery.extend(this.options,EA.Web.tabberDefaults,i),this.jheads=jQuery(n),this.jbodys=jQuery(t),this.length=Math.min(this.jheads.length,this.jbodys.length),this.selectTab=function(n,t){var i=n,r;this.options.evidenceItem&&(t!=undefined&&t.origin=="animation"&&(i=this.options.viewOrder[n]),i==4?jQuery("#promo-dropdown-container").css("visibility","hidden"):jQuery("#promo-dropdown-container").css("visibility","visible"));var e=jQuery(this.jheads[i]),u=jQuery(this.jbodys[i]),f=this.selectedIndex;typeof this.options.beforeChange=="function"&&this.options.beforeChange(jQuery.extend(t||{},{oldSelectedIndex:f,selectedIndex:n}));this.jheads.removeClass(this.options.activeClass);this.jbodys.removeClass(this.options.activeClass);e.addClass(this.options.activeClass);u.addClass(this.options.activeClass);this.options.hideBodies&&(this.jbodys.hide(),u.show());this.selectedIndex=n;typeof this.options.afterChange=="function"&&this.options.afterChange(jQuery.extend(t||{},{oldSelectedIndex:f,selectedIndex:i}));r=parseInt(this.options.interval);clearInterval(this.timer);EA.Web.$tab_clicked||r>10&&(this.timer=setInterval("EA.Web.Tabbers["+this.id+"].nextTab()",r))},this.nextTab=function(){this.selectTab((this.selectedIndex+1)%this.length,{origin:"animation"})},this.pause=function(){this.options.paused=!0;this.initializeTimer()},this.unpause=function(){this.options.paused=!1;this.initializeTimer()},this.timer=null,this.initializeTimer=function(){var n=this.options.firstInterval;this.timer!=null&&(clearInterval(this.timer),this.timer=null);this.options.paused||n>10&&(this.timer=setInterval("EA.Web.Tabbers["+this.id+"].nextTab()",n))},this.length>0){for(this.selectedIndex=0,r=0;r<this.length;r++)u=this.jheads[r],e=jQuery(u),u.tabber=this,u.headIndex=r,this.options.hideBodies&&jQuery(this.jbodys[r]).hide(),e.hasClass(this.options.activeClass)&&(this.selectedIndex=r);this.jheads.bind("click",function(n){EA.Web.$tab_clicked=!0;this.tabber.selectTab(this.headIndex,jQuery.extend(n,{origin:"click"}))});this.selectTab(this.selectedIndex,{origin:"initialization"});this.initializeTimer()}this.options.selected&&(this.selectTab(this.options.selected),jQuery("#evidence-backgrounds .evidence-background").css({left:-this.options.selected+"px"}),f=this.options.firstInterval,clearInterval(this.timer),f>10&&(this.timer=setInterval("EA.Web.Tabbers["+this.id+"].nextTab()",f)))};EA.Web.CallToAction=window.EA.Web.CallToAction||{};EA.Web.CallToAction.Facebook=function(){window.open("http://www.facebook.com/sharer.php?u="+encodeURIComponent(location.href)+"&t="+encodeURIComponent(document.title))};EA.Web.CallToAction.Twitter=function(){window.open("http://twitter.com/share?text="+encodeURIComponent(document.title))};jQuery(document).ready(function(){EA.Web.initialize()});String.prototype.capitalize=function(){return this.replace(/(^|\s)([a-z])/g,function(n,t,i){return t+i.toUpperCase()})};EA.Web.CSWPHelp=[];EA.Web.CSWPHelp.FlexyIsEasy=function(n){return n.toLowerCase()=="easy"?!0:!1};EA.Web.CSWPHelp.buildFlexyCategory=function(n){var r=n.Title.capitalize(),t=r.toLowerCase(),e=n.EAFlexyShortDescOWSTEXT,o=n.EAFlexyDescriptionOWSHTML,u=parseFloat(n.EAFlexyIPriceOWSNMBR),f=parseFloat(n.EAFlexyFPriceOWSNMBR),i="";return i+='<div data-type="'+r+'" class="piece clickable '+t+" "+(EA.Web.CSWPHelp.FlexyIsEasy(r)?"first":"")+'"><div class="center">',EA.Web.CSWPHelp.FlexyIsEasy(r)||(i+='  <div class="add-remove"><a href="#">Aggiungi<\/a><\/div><div class="icon"><\/div>'),i+='<span id="'+t+'name" class="title">'+r+'<\/span><div id="'+t+'desc" class="descr">'+e+'<\/div><div class="details-link"><a id="'+t+'link" href="#">Scopri i dettagli<\/a><\/div>',isNaN(f)?EA.Web.CSWPHelp.FlexyIsEasy(r)?i+='<div class="price price-tab"><strong>'+u.toFixed(2).toString().replace(".",",")+"<\/strong> € al Mese":(i+='<div class="price price-tab"><div class="on"><a href="#">',i+='<div class="number"><strong id="'+t+'price1">'+u+'<\/strong> €<\/div><div class="time"> al Mese<\/div><\/a><\/div>'):(i+='<div class="price-tab"><div class="individual on"><a href="#"><span class="number"><strong id="'+t+'price1">'+u+'<\/strong> €<\/span><span class="text">individual<\/span><\/a><\/div>',i+='<div class="family"><a href="#"><span class="number"><strong id="'+t+'price2">'+f+'<\/strong> €<\/span><span class="text">family<\/span><\/a><\/div>'),i+('<\/div><\/div><div class="details"><div class="details-box"><a class="close-details" href="#"><img alt="" src="/_layouts/15/ea/web/images/restyling-nav/icon-close.png"><\/a><span class="title" id="'+t+'name2" style="opacity: 0;">'+r+'<\/span><div id="'+t+'content">'+o+"<\/div><\/div><\/div><\/div>")};EA.Web.CSWPHelp.buildFlexyCategoryComponi=function(n){var t=n.Title.capitalize(),r=t.toLowerCase(),s=n.EAFlexyShortDescOWSTEXT,h=n.EAFlexyDescriptionOWSHTML,u=parseFloat(n.EAFlexyIPriceOWSNMBR),f=parseFloat(n.EAFlexyFPriceOWSNMBR),i="",e,o;return i+='<div data-type="'+t+'" class="piece clickable '+r+" "+(EA.Web.CSWPHelp.FlexyIsEasy(t)?"first":"")+'"><div class="center">',EA.Web.CSWPHelp.FlexyIsEasy(t)||(i+='<div class="add-remove"><a href="#">Aggiungi<\/a><\/div><div class="icon"><\/div>'),i+='<span id="'+r+'name" class="title">'+t+'<\/span><div id="'+r+'desc" class="descr">'+s+"<\/div>",isNaN(f)?EA.Web.CSWPHelp.FlexyIsEasy(t)?i+='<div class="price price-tab"><strong>'+u.toFixed(2).toString().replace(".",",")+"<\/strong> € al Mese":(i+='<div class="price price-tab"><div class="on"><a href="#">',i+='<div class="number"><strong id="'+r+'price1">'+u+'<\/strong> €<\/div><div class="time"> al Mese<\/div><\/a><\/div>'):(i+='<div class="price-tab"><div class="individual on"><a href="#"><span class="number"><strong id="'+r+'price1">'+u+'<\/strong> €<\/span><span class="text">individual<\/span><\/a><\/div>',i+='<div class="family"><a href="#"><span class="number"><strong id="'+r+'price2">'+f+'<\/strong> €<\/span><span class="text">family<\/span><\/a><\/div>'),i+="<\/div><\/div>",e=EA.Web.CSWPHelp.FlexyIsEasy(t)?"SCOPRI EASY":"SCOPRI FLEXI "+t.toUpperCase(),o=EA.Web.CSWPHelp.FlexyIsEasy(t)?"active":"",i+('<div class="details-link-arrow '+o+'"><a class="'+(EA.Web.CSWPHelp.FlexyIsEasy(t)?"first":r)+'" href="#">'+e+"<\/a><\/div><\/div>")};EA.Web.CSWPHelp.buildFlexyResult=function(n){var i="",t=n.Title;return isFirst=t.toLowerCase()=="easy"?"first":"",i+='<li class="pack '+t.toLowerCase()+'">',i+=EA.Web.CSWPHelp.FlexyIsEasy(t)==""?'<span class="name"><strong>'+t.capitalize()+'<span><\/span><\/strong><\/span><div class="pack-price"><\/div>':'<span class="name">'+t.capitalize()+'<\/span><div class="pack-price-easy"><span class="discount">'+parseFloat(n.EAFlexyIPriceOWSNMBR).toFixed(2).toString().replace(".",",")+'<\/span><span class="update-price"><\/span><\/div>',i+"<\/li>"};EA.Web.CSWPHelp.buildFlexyContent=function(n){var i=n.Title.capitalize(),r=i.toLowerCase(),u=n.EAFlexyDescriptionOWSHTML,t="";return isFirst=r=="easy"?"first active":i.toLowerCase(),t+='<div class="'+isFirst+' detail">',t+=u,t+"<\/div>"};EA.Web.getParsedImageSearch=function(n,t,i,r,u,f,e){var o;if(!t.isNull){o="";(typeof u!="undefined"||u!=null)&&(o=u+"picture");var c=f||"",l=e.toString()=="true"?!0:!1,s="",h=/alt="([^"]*)"/;return t.indexOf("https")<=0&&(t=t.replace("http","https")),t.match(h)!=null&&(s=t.match(h)[1]),EA.Web.getPictureMarkupSearch(t,i,r,n.CurrentItem,c,l,s,o)}return""};EA.Web.getImageSourceWithRendition=function(n,t,i){var r="",u,f;return Srch.U.n(n)||n.isEmpty||(r=STSHtmlDecode(EA.Web.imageSourceRendering(n)),u=!Srch.U.n(t)&&!isNaN(t),u&&(r=SP.Utilities.UrlBuilder.replaceOrAddQueryString(r,"width",t.toString())),f=!Srch.U.n(i)&&!isNaN(i),f&&(r=SP.Utilities.UrlBuilder.replaceOrAddQueryString(r,"height",i.toString()))),SP.Utilities.HttpUtility.htmlEncode(Srch.U.ensureAllowedProtocol(r))};EA.Web.imageSourceRendering=function(n){var i="",r,t;return Srch.U.n(n)||n.isNull||n.isEmpty||(r=n.toString().toUpperCase().indexOf("<IMG"),r!==-1?(t=n.toString().toUpperCase().match(new RegExp("<IMG [^\\>]*SRC\\s*=\\s*([\"'])(.*?)\\1")),Srch.U.isArray(t)&&t.length>2&&(i=t[2])):i=SP.Utilities.HttpUtility.htmlEncode(Srch.U.ensureAllowedProtocol(Srch.ValueInfo.Renderers.defaultRenderedValueNoHtmlEncoding(n)))),i};EA.Web.getPictureMarkupSearch=function(n,t,r,u,f,o,s){var h,c;return Srch.U.n(n)||n.isEmpty?"":(h=EA.Web.getImageSourceWithRendition(n,t,r),e=String.format('onerror="'+r+'"'),i=!Srch.U.n(t)&&!isNaN(t),j=!Srch.U.n(r)&&!isNaN(r),k=i&&j&&t===r,k&&(e+=String.format('onload="{0}"',t)),c=Srch.U.e(s)?"":String.format('id="{0}"',SP.Utilities.HttpUtility.htmlEncode(s)),String.format('<img src="{0}" class="{1}" alt="{2}" {3} {4} width="{5}" height="{6}" />',h,SP.Utilities.HttpUtility.htmlEncode(f),s.toString(),c,e,t,r))};EA.Web.TrimResults=function(n,t,i,r){for(var u=0;u<=n.ResultRows.length-1;u++)t!=null&&n.ResultRows[u].ContentType!=null&&n.ResultRows[u].ContentType.indexOf(t)>0&&i!=null&&(n.ResultRows[u][i]=="0"||typeof n.ResultRows[u][i]=="undefined"||n.ResultRows[u][i]==null)&&(n.ResultRows.splice(u,1),u!=0&&(u=u-1,n.RowCount=n.RowCount-1)),(r!=null||n.ResultRows[u].Path=="")&&(n.ResultRows[u].Path.indexOf(r)>0||n.ResultRows[u].Path=="")&&(n.ResultRows.splice(u,1),u!=0&&(u=u-1,n.RowCount=n.RowCount-1));return n};