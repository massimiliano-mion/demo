function getParameterFromQuerystring(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i="[\\?&]"+n+"=([^&#]*)",r=new RegExp(i),t=r.exec(window.location.href);return t==null?"":decodeURIComponent(t[1].replace(/\+/g," "))}function getAllParameterFromQuerystring(){var i="",n=window.location.href,t=n.indexOf("?");return t>0&&(t++,i=n.substring(t,n.length)),i}function getHostname(){var t=window.location.href,n=((t||"")+"").match(/^http:\/\/[^/]+/);return n?n[0]:null}function unescapeHTML(n){return n.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&#39;/g,'"')}function escapeHTML(n){return n.replace("&","&amp;").replace("<","&lt;").replace(">","&gt;").replace("'","&apos;").replace('"',"&quot;")}function managePrivateAreaTab(){var n;jQuery("#header-tabber #privateAreaContent.tabber-content .tabber-content-wrapper.not-logged").length>0?n=jQuery("#header-tabber #privateAreaContent.tabber-content").width():(jQuery("#header-tabber #privateAreaContent .form-section .email").css("width","100px"),n=jQuery("#header-tabber #privateAreaContent.tabber-content").width());jQuery("#header-tabber #privateAreaContent.tabber-content").css("width",n+"px");jQuery("#header-tabber #manageClaimContent.tabber-content").css("margin-left","-20px");jQuery("#header-tabber #manageClaimContent.tabber-content").css("width","335px")}function activePrivateArea(){for(i=1;i<=3;i++)jQuery("#header-tabber div:nth-child("+i+")").removeClass("active");jQuery("#header-tabber div:nth-child(2)").addClass("active");jQuery("#header-tabber div:nth-child(2) div").click();jQuery("#header-tabber #privateAreaContent.tabber-content").addClass("logout-tc")}function checkOverflow(){jQuery("html, body").css("overflowX","hidden");jQuery("html, body").css("overflow-x","hidden");jQuery("html, body").css("overflowY","hidden");jQuery("html, body").css("overflow-y","hidden");jQuery("html, body").css("overflowY","auto");jQuery("html, body").css("overflow-y","auto")}function AjaxSuccess(n){if(n.success)jQuery("#"+n.panelId).html(n.panel),window.EADialog.open("Avviso.html","Operazione completata.","auto","auto");else{jQuery("#"+n.panelId).html(n.panel);var t=jQuery("#ValidationSummary").html()}}function AjaxFailure(n){n.message&&window.EADialog.open("Attenzione%21.html","Si sono verificati degli errori. <br /> Non Ã¨ possibile completare l'operazione.<br />"+n.message,"auto","auto")}function SetAjaxMVCFormStyles(n){jQuery("#"+n).find("input, select").each(function(){var r=jQuery(this).attr("data-val-required"),t,i;undefined!=r&&(t=jQuery("#"+n+' label[for="'+jQuery(this).attr("id")+'"]'),i=t.text(),i.length>0&&t.append("<span> *<\/span>"))});jQuery("#"+n).find(".input-validation-error").each(function(){var t=jQuery(this),i;undefined!=t&&(i=jQuery("#"+n).find('label[for="'+t.attr("id")+'"]'),i.addClass("validation-summary-errors"))})}function loginHeader(){var n=getPortaleCustomerHost(),t=n+"/Account/JsonpDoLogin";spLogin(t,"frmLoginTop")}function spLogin(n,t){var i=jQuery("#"+t).serialize();jQuery.support.cors=!0;showLoader();jQuery.ajax({cache:!1,type:"GET",async:!1,jsonpCallback:"jsonCallback",url:n+"?"+i,dataType:"jsonp",contentType:"application/json",success:function(n){var t=n.returnURL;n.isLoggedOn=="False"?document.location.href=t:(dataLayer.push({event:"spm_login"}),document.location.href=t)},error:function(n,t,i){console.log("spLogin ErrorText: "+t);console.log("spLogin thrownError: "+i);hideLoader()}})}function setPrivateAreaContent(){var u=getPortaleCustomerHost(),f=window.location.href,e=f.split("?")[0],i=e.split("../index.html"),h=i[i.length-1],o=u+appPathPortaleCustomer+"/HTMLContent/GetNominativo",s=document.location.protocol+"//"+document.location.host,n='<div class="tabber-content-wrapper"><div class="links-section">\t<p class="left">Login o  <a href="'+_spPageContextInfo.siteAbsoluteUrl+'"/europassistance/Account/Login">Registrati<\/a<\/p>\t<a href="'+_spPageContextInfo.siteAbsoluteUrl+'/europassistance/Account/RecuperoPassword"  >Password dimenticata?<\/a><\/div>',r=' <div class="form-section"><div>\t<div class="over-label-container">\t\t<label for="UserName" id="loginEmailLabel" class="over-label" style="left: 6px; top: 6px; padding: 0px;">EMAIL<\/label>\t\t<input type="text" class="email"  id="UserName" name="UserName">\t<\/div>\t<div class="over-label-container">\t\t<label for="Password" id="loginPasswordLabel" class="over-label" style="left: 18px; top: 6px; padding: 0px;">PASSWORD<\/label>\t\t<input type="password" class="password" id="Password" name="Password" type="password"> \t\t<input id="sphost"  name="sphost" type="hidden" value="'+encodeURIComponent(s)+'">\t<\/div>\t<div class="button-container">\t\t<input type="button" value="Login" class="button blue left pie_first-child" id="loginTopper"  onclick="loginHeader();">\t<\/div><\/div><\/div>',t="";jQuery.support.cors=!0;jQuery.ajax({cache:!1,type:"GET",async:!1,jsonpCallback:"jsonCallback",contentType:"application/json",dataType:"jsonp",url:o,success:function(i){var u,f,e,o,s;i!=undefined&&(i.nominativo!=""?(u=document.location.pathname.toLowerCase(),f=u.indexOf("/registrati/home/")!=-1||u.indexOf("/registrati/servizi/")!=-1||u.indexOf("/registrati/serviziconsulenza/")!=-1,f?(e=i.nominativo.substr(0,i.nominativo.indexOf(" ")),o=i.nominativo.substr(i.nominativo.indexOf(" ")+1,i.nominativo.length),t='<div class="tabber-content-wrapper logged">    <p class="h1">'+o+'    <\/p>\t   <div class="left-section active">        <p class="pLogin">            '+e+' nella tua area riservata.        <\/p>   <\/div>    <div class="right-section">        <div class="button blue slim left pie_first-child">            <a href="#" onClick="javascript:pcLogoff();" >Esci<\/a><\/div>    <\/div><\/div>'):t='<div class="tabber-content-wrapper logged">    <p class="h1">'+i.nominativo+'    <\/p>\t   <div class="left-section active">        <p class="pLogin">             Clicca <a href="'+i.returnURL+'">qui<\/a> per accedere alla tua <br/>area riservata.        <\/p>   <\/div>    <div class="right-section">        <div class="button blue slim left pie_first-child">            <a href="#" onClick="javascript:pcLogoff();" >Esci<\/a><\/div>    <\/div><\/div>',activePrivateArea(),jQuery("#privateAreaContent").html(t)):(n='<div class="tabber-content-wrapper not-logged">\t<div class="links-section">\t\t<p class="left">Login o <a href="'+i.registratiUrl+'">Registrati<\/a><\/p>\t\t<p class="right"><a href="'+i.passwordRecoverUrl+'"  >Password dimenticata?<\/a><\/p>\t<\/div>',jQuery("#privateAreaContent").html(n+r)));try{jQuery("#searchFieldLabel, #loginEmailLabel, #loginPasswordLabel").labelOver("over-label")}catch(h){}s='<form id="frmLoginTop" method="get" name="frmLoginTop" ><\/form>';jQuery("#header-tabber .email").parent().parent().wrap(s);managePrivateAreaTab()},error:function(){jQuery("#privateAreaContent").html(n+r);jQuery("#header-tabber .email").parent().parent().wrap('<form id="frmLoginTop" method="get" name="frmLoginTop" ><\/form>');try{jQuery("#searchFieldLabel, #loginEmailLabel, #loginPasswordLabel").labelOver("over-label")}catch(t){}managePrivateAreaTab()}})}function pcLogoff(){var n=getPortaleCustomerHost(),t=n+"/Registrati/Account/JsonPLogOff";jQuery.support.cors=!0;showLoader();jQuery.ajax({cache:!1,type:"GET",async:!1,jsonpCallback:"jsonCallbackLogoff",url:t,dataType:"jsonp",contentType:"application/json",success:function(){document.location.href=_spPageContextInfo.siteAbsoluteUrl},error:function(n,t,i){console.log("pcLogoff ErrorText: "+t);console.log("pcLogoff thrownError: "+i);hideLoader()}})}function jsonCallbackSinistriAreaContent(){}function jsonCallback(){}function setSinistriAreaContent(){var i=getPortaleCustomerHost(),r=window.location.href,u=r.split("?")[0],e=u.split("../index.html"),f=i+appPathPortaleCustomer+"/HTMLContent/GetSinistriOnLineUrl",n="<div class='tabber-content-wrapper'><div class='left-section'>",t="";jQuery.ajax({cache:!1,type:"GET",async:!1,jsonpCallback:"jsonCallbackSinistriAreaContent",contentType:"application/json",dataType:"jsonp",url:f,success:function(i){t=i;n+='<a href="/contenuti-utili/cosa-fare-in-caso-di-sinistro" target="_blank" >Cosa fare in caso di sinistro<\/a><br /><a href="'+t.denuncia+'" target="_blank">Denuncia un sinistro<\/a><br /><a href="'+t.consulta+'" target="_blank">Consulta il tuo sinistro<\/a>';n+='<\/div><div class="right-section"><p class="right clear-right">Oppure contatta il Servizio Clienti al:<\/p><h2 class="right clear-right" style="font-family: Arial ! important; font-weight: normal ! important">800.90.48.91<\/h2><\/div><\/div>';jQuery("#manageClaimContent").html(n)},error:function(){n+='<a href="#">Denuncia un sinistro<\/a><br /><a href="#">Informazioni Utili<\/a><br /><a href="#">Elenco dei tuoi sinistri<\/a>';n+='<\/div><div class="right-section"><p class="right clear-right">Oppure contatta il Servizio Clienti al:<\/p><h2 class="right clear-right" style="font-family: Arial ! important; font-weight: normal ! important">800.90.48.91<\/h2><\/div><\/div>';jQuery("#manageClaimContent").html(n)}})}function jsonCallbackSinistri(){}function getPortaleCustomerHost(){return jQuery("input[id*='portaleCustomerHostHiddenField']").attr("value")}function getIsAutenticated(){jQuery(document).ready(function(){var n=getPortaleCustomerHost();jQuery.ajax({cache:!1,type:"GET",async:!1,jsonpCallback:"jsonCallback",contentType:"application/json",dataType:"jsonp",url:n+"/HTMLContent/IsAuthenticated",success:function(n){n.auth=="false"&&(window.location.href=n.loginurl+"?returnUrl="+encodeURIComponent(window.location.pathname))}})})}jQuery(document).ready(function(){managePrivateAreaTab();jQuery(".column.last").length!=0?jQuery("body").addClass("one-sidebar sidebar-second"):jQuery("body").addClass("no-sidebars");jQuery("#dropdown-menu").length!=0?jQuery("#header").attr("class",""):(jQuery("#header").addClass("header-funnel"),jQuery("#header").append('<div id="header-funnel"><\/div>'));jQuery("img[src*='info.png']").css("cursor","pointer");jQuery("img[src*='close.png']").css("cursor","pointer")});var trigger=!1;jQuery.fn.labelOver=function(n){return this.each(function(){var i=jQuery(this),r=i.attr("for"),t;r&&(t=jQuery("#"+r),this.hide=function(){i.css({textIndent:-1e4})},this.show=function(){t.val()==""&&i.css({textIndent:0})},t.bind("focus",this.hide),t.bind("blur",this.show),i.addClass(n),i.bind("click",function(){t.focus()}),t.val()!=""&&this.hide(),i.css({left:parseInt(t.css("margin-left"))+parseInt(t.css("border-left-width"))+parseInt(t.css("padding-left"))+"px",top:parseInt(t.css("margin-top"))+parseInt(t.css("border-top-width"))+parseInt(t.css("padding-top"))+"px",padding:"0"}))})},function(n){n.fn.AccordionThis=function(t){var i=n.extend({},{containerId:""},t);n("#"+i.containerId).find(".acordeon-entry:not(.extra)").each(function(){var t=n(this),r=n(".acordeon-entry-head, .acordeon-entry-arrow",this);t.addClass("open");n(".acordeon-entry-body",this).slideUp(0,function(){t.removeClass("open");r.bind("click",function(){t.hasClass("open")?n(".acordeon-entry-body",t[0]).slideUp(function(){t.removeClass("open")}):(n(".acordeon-entry.open",n("#"+i.containerId)).each(function(){var t=n(this);n(".acordeon-entry-body",this).slideUp(function(){t.removeClass("open")})}),t.addClass("open"),n(".acordeon-entry-body",t[0]).slideDown())})})});n(".acordeon-entry-head").unbind("click");n(".acordeon-entry-head").css("cursor","auto")}}(jQuery);EA.Web!=undefined&&(EA.Web.Login=window.EA.Web.Login||{},EA.Web.Login.gaTrackSliderVar="_s",EA.Web.Login.defaultsInitialized=!1,EA.Web.Login.isNull=function(n){return n==""||n==null||n==undefined},EA.Web.Login.isNotNull=function(n){return!EA.Web.Login.isNull(n)},EA.Web.Login.initializeDefaults=function(){EA.Web.Login.defaultsInitialized||(EA.Web.Login.defaultsInitialized=!0,EA.Web.headerTabber=new EA.Web.Tabber("#header-tabber .tabber-title","#header-tabber .tabber-content"))},EA.Web.Login.initialize=function(){EA.Web.Login.initializeDefaults()},jQuery(document).ready(function(){EA.Web.Login.initialize();jQuery(".nav-account").length<=0?(setPrivateAreaContent(),setSinistriAreaContent()):setPrivateAreaContentMobile()}));